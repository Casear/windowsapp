<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>TestApp</title>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.1.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.1.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0/js/ui.js"></script>
    <script src="/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="/js/collie.min.js"></script>
    <script type="text/javascript" src="/js/collie.tool.min.js"></script>
    <!-- TestApp references -->
    <link href="/css/animation.css" rel="stylesheet" />
    <script src="/js/default.js"></script>
    <script>
        $(function () {
            collie.Renderer.DEBUG_RENDERING_MODE = "canvas";

            var htSize = {
                width: document.body.clientWidth,
                height: document.body.clientHeight
            };
            oLayer = new collie.Layer({
                width: htSize.width,
                height: htSize.height
            });
            oConsole = new collie.FPSConsole({
                color: "#425510"
            });
            collie.ImageManager.add({
                "sea": "/animation/pi/sea.png",
                "ground": "/animation/pi/ground.png",
                "sky": "/animation/pi/sky.png",
            }, function () {

                var sky = new collie.DisplayObject({
                    width: 1920,
                    height: 1080,
                    x: 0,
                    y: 0,
                    backgroundImage: "sky"
                });
                var ground = new collie.DisplayObject({
                    backgroundImage: "ground"
                });
                var sea = new collie.DisplayObject({
                    backgroundImage: "sea"
                });

                sky.addTo(oLayer);
                oConsole.load();


                collie.Renderer.addLayer(oLayer);
                collie.Renderer.load(document.getElementById("container"));
                collie.Renderer.start();

                $("#size").click(function () {
                    var htSize = sky.getImageSize();
                    sky.set({ scaleX: 0.1 });
                });


            });



        });
    </script>
</head>
<body>

    <div class="win-ui-dark appGrid">
        <div id="container" class="canvas">
        </div>
        <div class="timeline">
            <input type="button" value="setSize" id="size" />
        </div>
        <div class="menu">
            <div data-win-control="WinJS.UI.ListView"></div>
        </div>
    </div>
</body>
</html>
